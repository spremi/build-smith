<div
  [formGroup]="emailForm"
  [spInert]="!edit">
  <div class="email-content">
    <mat-form-field>
      <textarea matInput
        rows="1"
        placeholder="To:"
        formControlName="to"></textarea>
      <mat-hint>Comma separated list of email addresses</mat-hint>
      <mat-error
        *ngIf="emailForm.controls.to.hasError('errAddress')"
        >No recepient was defined.</mat-error>
    </mat-form-field>

    <mat-form-field>
      <textarea matInput
        rows="1"
        placeholder="Cc:"
        formControlName="cc"></textarea>
      <mat-hint>Comma separated list of email addresses</mat-hint>
      <mat-error
        *ngIf="emailForm.controls.cc.hasError('errAddress')"
        >No recepient was defined.</mat-error>
    </mat-form-field>

    <mat-form-field *ngIf="showBcc">
      <textarea matInput
        rows="1"
        placeholder="Bcc:"
        formControlName="bcc"></textarea>
      <mat-hint>Comma separated list of email addresses</mat-hint>
      <mat-error
        *ngIf="emailForm.controls.bcc.hasError('errAddress')"
        >No recepient was defined.</mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput
        placeholder="Subject"
        formControlName="subject">
      <mat-error
        *ngIf="emailForm.controls.subject.hasError('errEmpty')"
        >Subject can't be empty.</mat-error>
    </mat-form-field>

    <mat-form-field *ngIf="showHeader">
      <textarea matInput
        rows="1"
        placeholder="Header for email content (optional)"
        formControlName="header"></textarea>
    </mat-form-field>

    <mat-form-field>
      <textarea matInput
        rows="4"
        placeholder="Main body of email content"
        formControlName="body"></textarea>
      <mat-error
        *ngIf="emailForm.controls.body.hasError('errEmpty')"
        >Body can't be empty.</mat-error>
    </mat-form-field>

    <mat-form-field *ngIf="showFooter">
      <textarea matInput
        rows="1"
        placeholder="Footer for email content (optional)"
        formControlName="footer"></textarea>
    </mat-form-field>
  </div>

  <div class="email-flags">
    <mat-checkbox
      [checked]="showBcc"
      (change)="showBcc = !showBcc"
    >Show bcc?</mat-checkbox>

    <mat-checkbox
      [checked]="showHeader"
      (change)="showHeader = !showHeader"
    >Show email header?</mat-checkbox>

    <mat-checkbox
      [checked]="showFooter"
      (change)="showFooter = !showFooter"
    >Show email footer?</mat-checkbox>
  </div>
</div>
